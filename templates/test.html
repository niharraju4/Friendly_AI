<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Available Voices and Languages</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px 12px;
        }
        th {
            background-color: #f2f2f2;
        }
        tr:hover {
            background-color: #f5f5f5;
        }
    </style>
</head>
<body>

<h2>Available Voices and Languages</h2>

<table>
    <thead>
        <tr>
            <th>Voice Name</th>
            <th>Language</th>
        </tr>
    </thead>
    <tbody id="voiceList">
        <!-- Voices will be populated here -->
    </tbody>
</table>

<h2>Test Speech Synthesis</h2>

<label for="voiceSelect">Select Voice:</label>
<select id="voiceSelect"></select>
<br><br>
<label for="testLang">Enter Language Code (e.g. en-US, de-DE):</label>
<input type="text" id="testLang">
<br><br>
<button onclick="testVoice()">Test Voice</button>

<script>
    function populateVoiceList() {
        const voiceList = document.getElementById('voiceList');
        const voiceSelect = document.getElementById('voiceSelect');
        const voices = window.speechSynthesis.getVoices();

        voices.forEach(voice => {
            const row = document.createElement('tr');
            const voiceNameCell = document.createElement('td');
            const voiceLangCell = document.createElement('td');

            voiceNameCell.textContent = voice.name;
            voiceLangCell.textContent = voice.lang;

            row.appendChild(voiceNameCell);
            row.appendChild(voiceLangCell);

            voiceList.appendChild(row);

            // Populate voice dropdown
            const option = document.createElement('option');
            option.textContent = voice.name;
            option.value = voice.name;
            voiceSelect.appendChild(option);
        });
    }

    function testVoice() {
        const utterance = new SpeechSynthesisUtterance("This is a test message.");
        const selectedVoice = document.getElementById('voiceSelect').value;
        const lang = document.getElementById('testLang').value;

        utterance.voice = window.speechSynthesis.getVoices().find(voice => voice.name === selectedVoice);
        utterance.lang = lang;

        window.speechSynthesis.speak(utterance);
    }

    window.speechSynthesis.onvoiceschanged = function() {
        populateVoiceList();
    };

    // Initial call in case voices are already loaded
    populateVoiceList();
</script>

</body>
</html>
